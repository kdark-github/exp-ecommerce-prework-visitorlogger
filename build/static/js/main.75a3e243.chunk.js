(this["webpackJsonpecom-test"]=this["webpackJsonpecom-test"]||[]).push([[0],{112:function(e,t,i){},113:function(e,t,i){},119:function(e,t,i){},120:function(e,t,i){},121:function(e,t,i){},122:function(e,t,i){},123:function(e,t,i){},127:function(e,t,i){"use strict";i.r(t);var s=i(42),n=i(43),a=i(47),c=i(46),r=i(0),l=i.n(r),o=i(10),d=i.n(o),j=(i(112),i.p,i(57)),h=i(14),b=i(32),u=i(35),m=i(68),O=i(48),x=i(155),v=i(159),p=i(164),g=i(168),f=i(161),y=i(15),w=i(163),N=i(73),_=(i(113),{ADD_VISITOR:"ADD_VISITOR",REMOVE_VISITOR:"REMOVE_VISITOR",UPDATE_VISITOR:"UPDATE_VISITOR"}),S=_.ADD_VISITOR,k=i(44),T=i(53),C=i(84),I=i.n(C),V=i(2),E=[{type:"Meeting"},{type:"Delivery"},{type:"Personal"}],D={visitor_name:"",email:"",selfie:void 0,visit_type:"",person_to_visit:"",date_of_entry:(new Date).toLocaleDateString(),entry_time:new Date,exit_time:new Date},R={width:360,height:240,facingMode:"user"},L=Object(k.b)(null,(function(e){return{logVisit:function(t){return e(function(e){return{type:S,payload:e}}(t))}}}))((function(e){var t=e.logVisit,i=(Object(O.a)(e,["logVisit"]),l.a.useState(D)),s=Object(m.a)(i,2),n=s[0],a=s[1],c=l.a.useState({selfie:"",time:""}),r=Object(m.a)(c,2),o=r[0],d=r[1],j=l.a.useState(),h=Object(m.a)(j,2),_=(h[0],h[1],l.a.useRef(null)),S=function(e){var t=e.target,i=t.name,s=t.value;a((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(b.a)({},i,s))}))},k=function(e,t){a((function(i){return Object(u.a)(Object(u.a)({},i),{},Object(b.a)({},e,t))}))};l.a.useCallback((function(){}),[_]);return Object(V.jsx)(x.a,{className:"visitor-add-paper",children:Object(V.jsxs)("form",{onSubmit:function(e){e.preventDefault();var i=n.visitor_name,s=n.email,c=n.selfie,r=n.visit_type,l=n.date_of_entry,o=n.person_to_visit,j=n.entry_time,h=n.exit_time,u=Object(b.a)({visitor_name:i,email:s,selfie:c,visit_type:r,date_of_entry:l,person_to_visit:o,entry_time:j.toLocaleTimeString(),exit_time:h.toLocaleTimeString()},"selfie",_.current.getScreenshot());console.log({entry_time:j,exit_time:h}),d({time:j===h?"Entry time & exit time can't be same.":"",selfie:Boolean(u.selfie)?"":"Image Error."}),j!==h&&Boolean(u.selfie)&&(t(u),a(D))},children:[Object(V.jsxs)("div",{style:{textAlign:"center"},children:[Object(V.jsx)(I.a,{audio:!1,height:240,ref:_,screenshotFormat:"image/jpeg",width:360,videoConstraints:R}),Object(V.jsx)("div",{style:{color:"#4a4a4a",fontSize:"15px",padding:"5px"},children:"Note: If Webcam not working please reopen browser or press ctrl+shift+R."})]}),Object(V.jsxs)(v.a,{container:!0,children:[Object(V.jsx)(v.a,{item:!0,lg:4,md:4,sm:6,xs:12,className:"tf-grid",children:Object(V.jsx)(p.a,{className:"visitor-tf",required:!0,name:"visitor_name",label:"Visitor's fullname",value:n.visitor_name,onChange:S})}),Object(V.jsx)(v.a,{item:!0,lg:4,md:4,sm:6,xs:12,className:"tf-grid",children:Object(V.jsx)(p.a,{className:"visitor-tf",required:!0,type:"email",name:"email",label:"Visitor's Email",value:n.email,onChange:S})}),Object(V.jsx)(v.a,{item:!0,lg:4,md:4,sm:6,xs:12,className:"tf-grid",children:Object(V.jsx)(p.a,{className:"visitor-tf",required:!0,name:"visit_type",label:"Visit type",value:n.visit_type,onChange:S,select:!0,children:E.map((function(e){return Object(V.jsx)(g.a,{value:e.type,children:e.type},e.type)}))})}),Object(V.jsx)(v.a,{item:!0,lg:4,md:4,sm:6,xs:12,className:"tf-grid",children:Object(V.jsx)(p.a,{className:"visitor-tf",required:!0,name:"person_to_visit",label:"Visiting person's fullname",value:n.person_to_visit,onChange:S})}),Object(V.jsx)(v.a,{item:!0,lg:4,md:4,sm:6,xs:12,className:"tf-grid",children:Object(V.jsx)(y.a,{utils:N.a,children:Object(V.jsx)(w.a,{required:!0,className:"visitor-tf",autoOk:!0,label:"Entry Time",name:"entry_time",value:n.entry_time,onChange:function(e){return k("entry_time",e)}})})}),Object(V.jsx)(v.a,{item:!0,lg:4,md:4,sm:6,xs:12,className:"tf-grid",children:Object(V.jsx)(y.a,{utils:N.a,children:Object(V.jsx)(w.a,{required:!0,className:"visitor-tf",autoOk:!0,label:"Exit Time",name:"exit_time",value:n.exit_time,onChange:function(e){return k("entry_time",e)}})})}),Object(V.jsx)("div",{style:{color:"red",padding:10},children:o.time}),Object(V.jsx)("div",{style:{color:"red",padding:10},children:o.selfie}),Object(V.jsxs)("div",{style:{padding:"20px",textAlign:"right",width:"100%"},children:[Object(V.jsx)(f.a,{style:{marginRight:"13px"},onClick:function(e){return a(D)},color:"primary",variant:"contained",children:"Clear"}),Object(V.jsx)(f.a,{type:"submit",color:"primary",variant:"contained",children:" Capture photo and Log"})]})]})]})})})),A=(i(119),Object(T.a)([function(e){return e.visitor}],(function(e){return e.list}))),F=Object(T.b)({visitorsList:A}),M=Object(k.b)(F)((function(e){var t=e.visitorsList,i=void 0===t?[]:t;Object(O.a)(e,["visitorsList"]);return Object(V.jsx)(V.Fragment,{children:i.map((function(e,t){return Object(V.jsxs)(x.a,{className:"visitors-list-item-paper",children:[Object(V.jsx)("div",{className:"visitor-image",style:{backgroundImage:"url(".concat(e.selfie,")")}}),Object(V.jsx)("div",{children:Object(V.jsxs)(v.a,{container:!0,spacing:3,children:[Object(V.jsxs)(v.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:["Visitors name :",Object(V.jsxs)("span",{className:"visitor-det-lbl",children:[" ",e.visitor_name]})]}),Object(V.jsxs)(v.a,{item:!0,lg:6,md:6,sm:12,xs:12,children:["Visitors Email :",Object(V.jsxs)("span",{className:"visitor-det-lbl",children:[" ",e.email]})]}),Object(V.jsxs)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:["Date :",Object(V.jsxs)("span",{className:"visitor-det-lbl",children:[" ",e.date_of_entry]})]}),Object(V.jsxs)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:["Visit type :",Object(V.jsxs)("span",{className:"visitor-det-lbl",children:[" ",e.visit_type]})]}),Object(V.jsxs)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:["Visiting Person :",Object(V.jsxs)("span",{className:"visitor-det-lbl",children:[" ",e.person_to_visit]})]}),Object(V.jsxs)(v.a,{item:!0,lg:6,md:6,sm:6,xs:12,children:["Visiting Timmings :",Object(V.jsxs)("span",{className:"visitor-det-lbl",children:[" ",e.entry_time+" - "+e.exit_time]})]})]})})]},t)}))})})),P=(i(120),function(e){Object(a.a)(i,e);var t=Object(c.a)(i);function i(){return Object(s.a)(this,i),t.apply(this,arguments)}return Object(n.a)(i,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return Object(V.jsxs)("div",{children:[Object(V.jsx)(L,{}),Object(V.jsx)("h2",{className:"vl-lbl",children:"Visitor's list"}),Object(V.jsx)(M,{})]})}}]),i}(r.Component)),q=(i(121),i(58)),B=i(40),U=(i(122),i(123),i(162)),W=function(){return Object(V.jsx)("div",{className:"News-card-main-ctn",children:Object(V.jsxs)("div",{className:"News-card-det-ctn",children:[Object(V.jsxs)("div",{className:"News-card-det",children:[Object(V.jsx)("div",{children:Object(V.jsx)(U.a,{variant:"text",style:{width:"150px"}})}),Object(V.jsx)("h2",{children:Object(V.jsx)(U.a,{variant:"text",style:{width:"97%"}})}),Object(V.jsxs)("article",{children:[Object(V.jsx)(U.a,{variant:"text",style:{width:"90%"}}),Object(V.jsx)(U.a,{variant:"text",style:{width:"70%"}}),Object(V.jsx)(U.a,{variant:"text",style:{width:"96%"}}),Object(V.jsx)(U.a,{variant:"text",style:{width:"90%"}}),Object(V.jsx)(U.a,{variant:"text",style:{width:"50%"}})]}),Object(V.jsx)("div",{children:Object(V.jsx)(U.a,{variant:"text",style:{width:"90px"}})})]}),Object(V.jsx)(U.a,{variant:"rect",style:{width:200,height:200}})]})})},z=function(e){var t,i=e.value,s=e.onClick,n=void 0===s?function(){}:s,a=e.expand;Object(O.a)(e,["value","onClick","expand"]);return Object(V.jsxs)("div",{className:"News-card-main-ctn",onClick:n,children:[Object(V.jsxs)("div",{className:"News-card-det-ctn",children:[Object(V.jsxs)("div",{className:"News-card-det",children:[Object(V.jsx)("div",{children:null===i||void 0===i||null===(t=i.source)||void 0===t?void 0:t.name}),Object(V.jsx)("h2",{children:i.title}),Object(V.jsx)("article",{children:i.description})]}),Object(V.jsx)("div",{style:{backgroundImage:"url(".concat(i.urlToImage,")"),width:200,height:200}})]}),Object(V.jsxs)("div",{className:"card-footer",children:[Object(V.jsxs)("div",{style:{fontStyle:"italic"},children:["Published on\xa0",function(){try{return new Date(i.publishedAt).toLocaleString()}catch(e){console.error("Error converting string ",e)}}()]}),Object(V.jsx)("div",{children:" Click to Expand"})]}),Object(V.jsxs)("article",{className:a?"news-content-visible":"news-content-hide",children:[i.content,Object(V.jsx)("a",{className:"news-link",href:i.url,onClick:function(e){return e.stopPropagation()},target:"_blank",children:" View full news"})]})]})},J=function(e){Object(a.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).loadMore=function(e){n.fetchNews(),e.target.scrollIntoView()},n.state={newsList:[],searchTopic:"bitcoin",index:null,page:1,loading:!0,totalResults:void 0},n.fetchNews=n.fetchNews.bind(Object(B.a)(n)),n.setindex=n.setindex.bind(Object(B.a)(n)),n.handleChanges=n.handleChanges.bind(Object(B.a)(n)),n.searchNewsForTopic=n.searchNewsForTopic.bind(Object(B.a)(n)),n}return Object(n.a)(i,[{key:"componentDidMount",value:function(){this.fetchNews(),window.scrollTo(0,0)}},{key:"fetchNews",value:function(){var e=this,t=this.state,i=t.page,s=t.searchTopic,n="https://newsapi.org/v2/everything?apiKey=1848b5465b1449d78d10c2991b1bea98&from=2021-02-05&q=".concat(s,"&page=").concat(i);fetch(n).then((function(e){if(e.ok)return e.json();throw new Error("Error fetching NEWS data.")})).then((function(t){"ok"===t.status&&(console.log("The news data is ",t),e.setState((function(e,i){return{loading:!1,page:e.page+1,newsList:[].concat(Object(q.a)(e.newsList),Object(q.a)(t.articles)),totalResults:t.totalResults}})))})).catch((function(t){e.setState((function(e,t){return{loading:!1}})),console.error("Error Occured while fetching news.")})),this.setState({loading:!0})}},{key:"setindex",value:function(e){var t=this.state.index;t=t===e?null:e,this.setState({index:t})}},{key:"handleChanges",value:function(e){var t=e.target,i=t.value,s=t.name;this.setState(Object(b.a)({},s,i))}},{key:"searchNewsForTopic",value:function(e){e.preventDefault(),this.setState({newsList:[],page:1},this.fetchNews)}},{key:"render",value:function(){var e=this,t=this.state,i=t.newsList,s=t.index,n=t.searchTopic,a=t.loading,c=t.totalResults;return Array.isArray(i)?0!==i.length||a?Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{className:"new-searchbar-ctn",children:Object(V.jsxs)("form",{onSubmit:this.searchNewsForTopic,children:[Object(V.jsx)("input",{required:!0,className:"new-searchbar-ip",id:"ln-serach",name:"searchTopic",onChange:this.handleChanges,placeholder:"Search your topic...",value:n}),Object(V.jsx)("button",{type:"submit",children:"Search"})]})}),Object(V.jsx)("div",{style:{color:"red",fontSize:"15px",margin:"2px auto",textAlign:"center"},children:n?"":"Search can't be blank."}),Object(V.jsx)("div",{style:{padding:"20px 0px 0px 0px"},children:i.map((function(t,i){return Object(V.jsx)(z,{onClick:function(){return e.setindex(i)},value:t,expand:s===i},i)}))}),!a&&i.length<c&&Object(V.jsx)("div",{onClick:this.loadMore,className:"loadmore",children:"Click to load more."}),a&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(W,{}),Object(V.jsx)(W,{}),Object(V.jsx)(W,{}),Object(V.jsx)(W,{}),Object(V.jsx)(W,{})]})]}):Object(V.jsx)("div",{className:"no-news-data",children:"Can't find any NEWS for searched topic."}):Object(V.jsx)("div",{className:"errored-news-data",children:"Error In getting Data"})}}]),i}(r.Component);var K=function(){return Object(V.jsxs)("div",{style:{paddingTop:"60px"},children:[Object(V.jsx)("div",{color:"secondary",className:"appbar-main",children:Object(V.jsxs)("ul",{children:[Object(V.jsx)("li",{children:Object(V.jsx)(j.b,{className:"appbar-links",to:"/",children:"Latest News"})}),Object(V.jsx)("li",{children:Object(V.jsx)(j.b,{className:"appbar-links",to:"/visitorpage",children:"Visitor Page"})})]})}),Object(V.jsx)(h.a,{path:"/visitorpage",exact:!0,strict:!0,component:P}),Object(V.jsx)(h.a,{path:"/",exact:!0,strict:!0,component:J})]})},G=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,170)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,a=t.getLCP,c=t.getTTFB;i(e),s(e),n(e),a(e),c(e)}))},H=i(22),Q=_.ADD_VISITOR,X=_.REMOVE_VISITOR,Y=_.UPDATE_VISITOR,Z={list:[]},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;console.log("Reducer called ",e,t);var i=e.list;switch(t.type){case Q:return Object(u.a)(Object(u.a)({},e),{},{list:[].concat(Object(q.a)(i),[t.payload])});case X:case Y:break;default:return e}},ee=i(88),te=i.n(ee),ie=i(67),se={storage:te.a,key:"root",whitelist:["visitor"]},ne=Object(H.c)({visitor:$}),ae=Object(ie.a)(se,ne),ce=i(89),re=i(90),le=[i.n(re).a,ce.a],oe=Object(H.d)(ae,H.a.apply(void 0,le));console.log("The store is ",oe);var de=Object(ie.b)(oe),je=oe,he=i(91),be=function(e){Object(a.a)(i,e);var t=Object(c.a)(i);function i(e){var n;return Object(s.a)(this,i),(n=t.call(this,e)).state={hasError:!1},n}return Object(n.a)(i,[{key:"componentDidCatch",value:function(e,t){console.error("Ops there was error down the component ",{error:e,info:t})}},{key:"render",value:function(){return this.state.hasError?Object(V.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),i}(l.a.Component),ue=Object(V.jsx)("div",{children:"Loading persistor state "});console.log({persistedStore:de}),d.a.render(Object(V.jsx)(l.a.StrictMode,{children:Object(V.jsx)(be,{children:Object(V.jsx)(j.a,{children:Object(V.jsx)(k.a,{store:je,children:Object(V.jsx)(he.a,{loading:ue,persistor:de,children:Object(V.jsx)(K,{})})})})})}),document.getElementById("root")),G()}},[[127,1,2]]]);
//# sourceMappingURL=main.75a3e243.chunk.js.map